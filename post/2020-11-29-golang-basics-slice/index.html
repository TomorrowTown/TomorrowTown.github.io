<!DOCTYPE html>
<html id="bg">

<head>
    <meta charset="utf-8" />
<!--
    * @Theme Card
    * @Author admin@itjoker.cn
    * @Link https://blog.itjoker.cn
-->

<title>
    tomorrow
</title>
<!--[if lt IE 9]><script src="//cdn.bootcss.com/html5shiv/r29/html5.js"></script><![endif]-->
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<meta name="author" content="tomorrow">
<meta name="description" content=""我猪肉佬何尝不想当一个伟大的舞蹈家"">
<meta name="keywords" content="">
<meta name="gridea-theme" content="Card">
<meta name="spider" content="https://nmsl.sbjxw.网址">
<meta name="UpdateTime" content="1610129570678">
<script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io/CDN/js/jquery@3.4.1.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io/CDN/js/Card/prism.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@1.0.36/CDN/css/Card/prism.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/contrib/auto-render.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>
<!--<script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@1.0.36/CDN/js/Card/script.min.js"></script>-->
<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@1.0.36/CDN/css/Card/main.min.css" />-->
<script src="https://TomorrowTown.github.io/media/js/script.min.js"></script>
<link rel="stylesheet" href="https://TomorrowTown.github.io/media/css/main.min.css" />
<link rel="stylesheet" href="https://TomorrowTown.github.io/styles/main.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@1.0.36/CDN/css/Card/iconfont.css" />
<!--link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_410989_wuhl0k5ojvf.css" /-->
<link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@1.0.36/CDN/js/love.min.js"></script>
<script src="https://cdn1.lncld.net/static/js/av-min-1.5.0.js"></script>
<script>
    $().ready(
        function() {
            var themeIcon = document.getElementById("themeIcon");
            var currentTheme = window.localStorage.getItem('theme');
            if (currentTheme == 'dark') {
                document.getElementsByTagName('html')[0].classList.add('theme-dark');
                document.getElementsByTagName('html')[0].removeAttribute('id');
                themeIcon.classList.remove('Card-moon');
                themeIcon.classList.add('Card-sun');
            } else {
                document.getElementsByTagName('html')[0].classList.remove('theme-dark');
                document.getElementsByTagName('html')[0].setAttribute('id', 'bg');
                themeIcon.classList.remove('Card-sun');
                themeIcon.classList.add('Card-moon');
            }
        }
    )
</script>

    <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io/CDN/js/hit-kounter-lc-0.3.0.js"></script>
    
        
            <script>
                (function() {
                    var bp = document.createElement('script');
                    var curProtocol = window.location.protocol.split(':')[0];
                    if (curProtocol === 'https') {
                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                    } else {
                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                    }
                    var s = document.getElementsByTagName("script")[0];
                    s.parentNode.insertBefore(bp, s);
                })();
            </script>
            
                    <style>
                        .Card-certify {
                            color: #0091e4 !important;
                        }
                        
                        #foot {
                            color: #666666;
                        }
                        
                        #menu-item:hover {
                            border-bottom: 1px solid rgba(0, 0, 0, 0.5);
                            border-bottom-color: rgba(0, 0, 0, .6);
                        }
                        
                        .gray {
                            -webkit-filter: grayscale(100%);
                            /* webkit */
                            -moz-filter: grayscale(100%);
                            /*firefox*/
                            -ms-filter: grayscale(100%);
                            /*ie9*/
                            -o-filter: grayscale(100%);
                            /*opera*/
                            filter: grayscale(100%);
                            filter: progid: DXImageTransform.Microsoft.BasicImage(grayscale=1);
                            filter: gray;
                            /*ie9- */
                        }
                        
                        .lite-item,
                        #header {
                            opacity: 1;
                        }
                        
                        .lite-item {
                            background-color: #fafafa;
                        }
                        
                        #spnBtn:hover {
                            transition: all .3s ease;
                            color: #fff;
                            background-color: #6b6b6b;
                            /*#0092ee*/
                            /*linear-gradient( rgb(138, 160, 255) 30%, rgb(90, 140, 250) 70%);*/
                        }
                        
                        #spnBtn {
                            background-color: #efefef;
                            font-size: 14px;
                            transition: all .3s ease;
                        }
                        
                        .link_a:hover {
                            margin-top: 10px;
                            margin-bottom: 10px;
                            color: #fff;
                            border-left: 8px solid #6b6b6b;
                            padding: 5px;
                            transition: all .3s ease;
                        }
                        
                        html {
                            width: 100%;
                            height: 100%;
                            background-attachment: fixed;
                            background-repeat: no-repeat;
                        }
                    </style>
</head>

<body>
    <header id="header">

    <div id="pc-menu">
        <a id="menu-bar" class="Card Card-menu"></a>
        <a id="menu-title" href="https://TomorrowTown.github.io">
            tomorrow
        </a>
        <nav id="menu-main" class="menu-main">
            <ul>
                
                    <li id="menu-item" class="menu-item">
                        <a href="https://TomorrowTown.github.io">
                            首页
                        </a>
                    </li>
                    
                    <li id="menu-item" class="menu-item">
                        <a href="https://TomorrowTown.github.io/tags">
                            标签
                        </a>
                    </li>
                    
                    <li id="menu-item" class="menu-item">
                        <a href="https://TomorrowTown.github.io/archives">
                            文档
                        </a>
                    </li>
                    
                    <li id="menu-item" class="menu-item">
                        <a href="https://TomorrowTown.github.io/post/about">
                            关于
                        </a>
                    </li>
                    
            </ul>
        </nav>
        <form id="gridea-search-form" class="searchform" data-update="1610129570678" action="/search/index.html">
            <i class="Card Card-search"></i>
            <input id="s" class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
        </form>
    </div>
    <div id="mobile-menu">
        <form id="gridea-search-form" class="mobile-searchform" data-update="1610129570678" action="/search/index.html">
            <i class="Card Card-search"></i>
            <input id="s" class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
        </form>
        <nav class="menu">
            <ul style="list-style: none;">
                
                    <li class="page_item page-item-2">
                        <a href="https://TomorrowTown.github.io">
                            首页
                        </a>
                    </li>
                    
                    <li class="page_item page-item-2">
                        <a href="https://TomorrowTown.github.io/tags">
                            标签
                        </a>
                    </li>
                    
                    <li class="page_item page-item-2">
                        <a href="https://TomorrowTown.github.io/archives">
                            文档
                        </a>
                    </li>
                    
                    <li class="page_item page-item-2">
                        <a href="https://TomorrowTown.github.io/post/about">
                            关于
                        </a>
                    </li>
                    
            </ul>
        </nav>
    </div>
    <a id="theme-btn" class="theme-btn" onclick="App.changeTheme()"><i id="themeIcon" class="Card Card-moon"></i></a>
</header>
        <div id="main">
            <div id="main-part">
                <div class="lite-item">
                    <article class="post post-type real-post">
                        <header class="post-type-header">
                            
                                <div class="thumbnail-link" style="background-image: url('https://TomorrowTown.github.io/post-images/2020-11-29-golang-basics-slice.png')"></div>
                                
                                        <div class="thumbnail-shadow">
                                            <h1 class="post-title">
                                                Go语言基础(三) -- slice
                                            </h1>
                                            <div class="post-info">
                                                <span class="post-category"><i class="Card Card-novel"></i>
                                        
                                                    </span>
                                                    <span class="post-view">
                                                    
                                                        &nbsp;•&nbsp;
                                                    <span id="/post/2020-11-29-golang-basics-slice/" class="leancloud_visitors" data-flag-title="Go语言基础(三) -- slice">
                                                <i class="Card Card-view"></i>&nbsp;阅读量&nbsp;
                                                <i class="leancloud-visitors-count">0</i>
                                            </span>

                                                    
                                                            </span>&nbsp;•&nbsp;

                                                            <span class="post-readtime">阅读时间:
                                            12.9分</span>
                                                            <span class="post-edit"></span></div>
                                        </div>
                                        <div class="post-relative">
                                            <img alt="tomorrow" src="https://TomorrowTown.github.io/images/avatar.png?v=1610129570678" srcset="https://TomorrowTown.github.io/images/avatar.png?v=1610129570678" class="avatar avatar-100 photo" width="100" height="100">
                                            <span class="post-type-author"><a href="https://TomorrowTown.github.io" title="由tomorrow发布" rel="author">tomorrow<i class="Card Card-certify"></i></a></span>
                                            <span class="post-publish"><i class="fa fa-calendar" aria-hidden="true"></i>&nbsp;2020-11-29</span>
                                        </div>
                        </header>
                        <div class="post-main post-type-main">
                            <div class="post-content">
                                <div class="post-content-real">
                                    <p>懒，所以直接贴笔记了</p>
<h2 id="0x00">0x00</h2>
<p>Simply put, a slice is a simplified version of a <u>dynamic array</u>. Becuase the length of the dynamic array is not fixed, the length of the slice naturally cannot be part of the type.<br>
The underlying structure of Go slice is defined in <strong>reflect.SliceHeader:</strong></p>
<pre><code class="language-Go">type SliceHeader struct {
    Data  uintptr
    Len    int
    Cap   int
}
</code></pre>
<p>Compared with string, the slice has an additional <strong>Cap</strong> member indicating the maximum capacity of the memory space pointed by the slice(corresponding to the number of elements, not the number of bytes).<br>
<em>Figure: The memory structure corresponding to the x := []int{2,3,5,7,11} and y := x[1:3] slice:</em><br>
<img src="https://TomorrowTown.github.io/post-images/1606662287728.png" alt="" loading="lazy"></p>
<h2 id="the-way-to-define-slice">The way to define slice:</h2>
<pre><code class="language-Go">var (
    a []int                        // nil slice, equal to nil, generally used to indicate a non-existent slice
    b = []int{}                  // empty slice, not equal to nil, generally used to represent a empty collection
    c = []int{1, 2, 3}         // there are 3 elements in the slice, len and cap both are 3
    d = c[:2]                    // there are 2 elements in the slice, len is 2, cap is 3 
    e = c[0:2:cap(c)]        // there are 2 elements in the slice, len is 2, cap is 3 
    f = c[:0]                      // there are 0 elements in the slice, len is 0, cap is 3
    g = make([]int, 3)      // there are 3 elements in the slice, len and cap both are 3
    h = make([]int, 2, 3)  // there are 2 elements in the slice, len is 2, cap is 3
    i = make([]int, 0, 3)   // there are 0 elements in the slice, len is 0, cap is 3
)
</code></pre>
<p>In addition to traversal, as long as the underlying data pointer, length and capacity of the slice have not changed, the traversal of the slice, the reading and modification of elements are the same as the array. When assigning values or passing parameters to the slice itself, it is similar to the operation of the array pointer, only the slice header information (reflect.SliceHeader) is copied, and <u>the underlying data is not copied.</u></p>
<h2 id="add-slice-elements">add slice elements</h2>
<p>The built-in generic function <strong>append</strong> can append N elements to the end of the slice:</p>
<pre><code class="language-Go">var a []int
a = append(a, 1)
a = append(a, 1, 2, 3)
a = append(a, []int{1, 2, 3}...)    // append a slice, and the slice need to unpack
/*
If we need to append a slice to another slice, we must use the ...(ellipsis) operator to tell the Go language to append the slice as multiple separate elements. The element to be appended must be of the same type as the element in the slice.
*/
</code></pre>
<p>However, it should be noted that in the case of insufficient capacity, the <strong>append</strong> operation will result in reallocation of memory, which may result in huge memory allocation and copy data costs. Even if the capacity is sufficient, you still need to use the return value of the <strong>append</strong> function to update the slice itself, because the length of the new slice has changed.</p>
<p>We can also add elements at the beginning of the slice:</p>
<pre><code class="language-Go">var a []int{1, 2, 3}
a = append([]int{0}, a)                // append a element at the beginning
a = append([]int{-1, -2, -3}, a)    // append a slice at the beginning
</code></pre>
<p>At the beginning, it usually causes a reallocation of memory, and causes all existing elements to be copied once. Therefore, the performance of adding elements from the beginning of a slice is generally much <u>worse than the performance of adding elements from the end.</u></p>
<p>Because the <strong>append</strong> function returns a new slice, that is, it supports chained operations. We can combine multiple <strong>append</strong> operations to insert elements in the middle of the slice:</p>
<pre><code class="language-Go">var a []int
a = append(a[:i], append([]int{x}, a[i:]...)...)       // insert x at the i position
a = append(a[:i], append([]int{1,2,3}, a[i:]...)...)  // insert a slice at the i position
</code></pre>
<p>The second <strong>append</strong> call in each add operation <u>creates a temporary slice,</u> copies the contents of <strong>a[i:]</strong> to the newly created slice, and then appends the temporarily created slice to <strong>a[: i]</strong>.<br>
The combination of <strong>copy</strong> and <strong>append</strong> can be used to avoid creating intermediate temporary slices, which is also the operation of adding elements:</p>
<pre><code class="language-Go">a = append(a, 0)     // slice expansion by 1 space
copy(a[i+1:], a[i:])   // a[i:] moves backward 1 position
a[i] = x                    // set the newly added elements
</code></pre>
<p>The combination of <strong>copy</strong> and <strong>append</strong> can also be used to insert multiple elements in the middle (that is, insert a slice):</p>
<pre><code class="language-Go">a = append(a, x...)           // Expand enough space for x slice
copy(a[i + len(x):], a[i:])   // a[i:] moves backward len(x) position
copy(a[1:], x)                   // copy the newly added slice
</code></pre>
<h2 id="delete-slice-elements">delete slice elements</h2>
<p>There are three cases according to the position of the element to be deleted: delete from the beginning, delete from the middle, and delete from the tail. Among them, <u>deleting the element at the end of the slice is the fastest:</u></p>
<pre><code class="language-Go">a = []int{1, 2, 3}
a = a[:len(a)-1]    // delete 1 element at the end of the slice
a = a[:len(a)-N]   // delete N elements at the end of the slice
</code></pre>
<p>Delete the element at the beginning can move the data pointer directly:</p>
<pre><code class="language-Go">a = []int{1, 2, 3}
a = a[1:]    // delete 1 element at the beginning of the slice
a = a[N:]   // delete N elements at the beginning of the slice
</code></pre>
<p>Delete the elements at the beginning can also not move the data pointers, but it will move the following data to the beginning. Can be done in place with <strong>append</strong> (The so-called in-place completion refers to the completion within the memory interval corresponding to the initial slice data, and will not cause the change of the memory space structure).</p>
<pre><code class="language-Go">a = []int{1, 2, 3}
a = append(a[:0], a[1:]...) // delete 1 element at the beginning
a = append(a[:0], a[N:]...) // delete N element at the beginning
</code></pre>
<p>Can also use the <strong>copy</strong> to delete elements at the beginning</p>
<pre><code class="language-Go">a = []int{1, 2, 3}
a = a[:copy(a, a[1:])] // delete 1 element at the beginning
a = a[:copy(a, a[N:])] // delete N elements at the beginning
</code></pre>
<p>For deleting the middle element, it is necessary to move the remaining elements as a whole, which can also be done in-place with append or copy:</p>
<pre><code class="language-Go">a = []int{1, 2, 3}

a = append(a[:i], a[i+1:]...) // delete 1 element at the middle
a = append(a[:i], a[i+N:]...) // delete N elements at the middle

a = a[:i+copy(a[i:], a[i+1:])] // delete 1 element at the middle
a = a[:i+copy(a[i:], a[i+N:])]// delete N elements at the middle
</code></pre>
<h2 id="slice-memory-tips">Slice memory tips</h2>
<p>For slices, slices with <strong>len</strong> 0 but <strong>cap</strong> capacity other than 0 are very useful features. Of course, if both <strong>len</strong> and <strong>cap</strong> are 0, it becomes a real empty slice, although it is not a <strong>nil</strong> slice. When judging whether a slice is empty, it is generally judged by the length of the slice obtained by len. Generally, the slice and the nil value are rarely compared directly.</p>
<p>For example, the following <strong>TrimSpace</strong> function is used to delete the space in []byte. The function implementation takes advantage of the 0-length slice feature, which is efficient and concise.</p>
<pre><code class="language-Go">func TrimSpace(s []byte) []byte {
    b := s[:0]
    for _, x = range s {
        if x != ' ' {
            b = append(b, x)
        }
    }
    return b
}
</code></pre>
<p>In fact, similar algorithms that delete slice elements in-situ according to filter conditions can be handled in a similar method(because the deletion operation will not cause insufficient memory):</p>
<pre><code class="language-Go">func Filter(s []byte, fn func(x byte) bool) []byte {
    b := s[:0]
    for _, x := range s {
        if !fn(x) {
            b = append(b, x)
        }
    }
    return b
}
</code></pre>
<p>The main point of efficient operation of slicing is tov<u>reduce the number of memory allocations</u>, try to ensure that the append operation will not exceed the capacity of the <strong>cap</strong>, and <u>reduce the number of triggered memory allocations and the size of memory allocated each time.</u></p>
<h2 id="avoid-slice-memory-leaks">Avoid slice memory leaks</h2>
<p><u>The slicing operation does not copy the underlying data</u>. The underlying array will be kept in memory until it is no longer referenced. However, sometimes the entire bottom array may be in use due to a small memory reference, which delays the automatic memory collector's collection of the bottom array.</p>
<p>For example, the <strong>FindPhoneNumber</strong> function loads the entire file into memory, then searches for the first phone number that appears, and finally returns the result in slices.</p>
<pre><code class="language-Go">func FindPhoneNumber(filename string) []byte {
    b, _ := ioutil.ReadFile(filename)
    return regexp.MustCompile(&quot;[0-9]+&quot;).Find(b)
}
</code></pre>
<p>The <strong>[]byte</strong> returned by this code points to an array that holds the entire file. <u>Because the slice refers to the entire original array, the automatic garbage collector cannot release the space of the underlying array in time</u>. A small requirement may result in the need to save the entire file data for a long time. Although this is not a memory leak in the traditional sense, it may <u>slow down the overall performance of the system.</u></p>
<p>To fix this problem, you can <u>copy the data of interest to a new slice</u> (data transfer is a philosophy of Go programming. Although value transfer has a certain price, the benefit of exchange is to <u>cut off the original data rely</u>):</p>
<pre><code class="language-Go">func FindPhoneNumber(filename string) []byte {
    b, _ := ioutil.ReadFile(filename)
    b = regexp.MustCompile(&quot;[0-9]+&quot;).Find(b)
    return append([]byte{}, b...)
}
</code></pre>
<p>Similar problems may be encountered when deleting slice elements. Assuming that the pointer object is stored in the slice, then after deleting the end element, <u>the deleted element is still referenced by the underlying array of the slice</u>, which can not be recycled by the automatic garbage collector in time (this depends on the implementation of the collector):</p>
<pre><code class="language-Go">var a []*int{ ... }
a = a[:len(a)-1]    // the deleted element is still referenced by the underlying array of the slice, which may can not be recycled by the automatic garbage collector in time
</code></pre>
<p>The insurance method is to <u>first set the elements that need automatic memory recycling to <strong>nil</strong></u> to ensure that the automatic collector can find the objects that need to be recycled, and then delete the slices:</p>
<pre><code class="language-Go">var a []*int{ ... }
a[len(a)-1] = nil // GC recycled the last element's memory
a = a[:len(a)-1]  // delete the last element in the slice
</code></pre>
<p>Of course, if the period of slicing is very short, you don't need to deal with this problem. Because if the slice itself can be recycled by GC, each element corresponding to the slice will naturally be recycled.</p>
<h2 id="slice-type-cast">Slice type cast</h2>
<p>For safety, when the underlying raw slice types of the two slice types []T and []Y are different, Go language cannot directly convert the types. But security comes at a price. Sometimes this conversion has its value-it can <u>simplify coding or improve the performance of the code</u>.<br>
For example, on a 64-bit system, a []float64 slice needs to be sorted at high speed, we can force it to be converted to []int integer slice, and then sort by integer (because float64 follows the IEEE754 floating point standard feature, when floating number are ordered, the corresponding integers must also be ordered).</p>
<p>The following code converts [] float64 type slices to [] int type slices in two ways:</p>
<pre><code class="language-Go">// +build amd64 arm64

import &quot;sort&quot;

var a = []float64{4, 2, 5, 7, 2, 1, 88, 1}

func SortFloat64FastV1(a []float64) {
    // type conversion
    var b []int = ((*[1 &lt;&lt; 20]int)(unsafe.Pointer(&amp;a[0])))[:len(a):cap(a)]

    // sort the float as int
    sort.Ints(b)
}

func SortFloat64FastV2(a []float64) {
    // Update the slice header information through reflect.SliceHeader to achieve conversion
    var c []int
    aHdr := (*reflect.SliceHeader)(unsafe.Pointer(&amp;a))
    cHdr := (*reflect.SliceHeader)(unsafe.Pointer(&amp;c))
    *cHdr = *aHdr

    // sort the float as int
    sort.Ints(c)
}
</code></pre>
<p>It should be noted that the length of non-zero size arrays in the Go implementation must <u>not exceed 2GB</u>, so the maximum length range of the array must be calculated for the type size of the array elements (<u>[]uint8 maximum 2GB, []uint16 maximum 1GB, and so on, But the length of the [] struct {} array can exceed 2GB</u>).</p>

                                </div>
                            </div>
                            
                        </div>
                        <div class="post-footer">
                            <div class="post-copyright">
                                作者:
                                tomorrow<br>永久链接:
                                    <a href="https://TomorrowTown.github.io/post/2020-11-29-golang-basics-slice/" title="Go语言基础(三) -- slice">
                                        https://TomorrowTown.github.io/post/2020-11-29-golang-basics-slice/
                                    </a><br> 协议: MIT License
                            </div>
                        </div>
                    </article>
                </div>
                <style>
                    .prev:hover {
                        color: #2d96bd;
                        text-decoration: none;
                        text-align: center;
                        transition: color 0.2s ease, border-color 0.2s ease, background 0.2s ease, opacity 0.2s ease;
                    }
                    
                    .next:hover {
                        color: #2d96bd;
                        text-decoration: none;
                        text-align: center;
                        transition: color 0.2s ease, border-color 0.2s ease, background 0.2s ease, opacity 0.2s ease;
                    }
                </style>
                <div class="lite-item nearby-article">
                    
                        <div class="nearby-article-left" style="padding: 10px;">
                            <a class="prev" rel="prev" href="https://TomorrowTown.github.io/post/go-yu-yan-ji-chu-si-han-shu-fang-fa-he-jie-kou/">
                                <i class="fa fa-chevron-left"></i>
                                Go语言基础(四) -- 函数、方法和接口
                            </a>
                        </div>
                        
                            
                                <div class="nearby-article-right" style="padding: 10px;">
                                    <a class="next" rel="next" href="https://TomorrowTown.github.io/post/2020-11-29-golang-basics-string/">
                                        Go语言基础(二) -- string<i class="fa fa-chevron-right"></i>
                                    </a>
                                </div>
                                
                </div>
                <!--Share-->
                <span style="margin-right:15px">
    <i class="post-share"></i>
    <span>&#x5206;&#x4EAB;:</span>
                <a title="QR 码" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://TomorrowTown.github.io/post/2020-11-29-golang-basics-slice/"><i class="fa fa-qrcode"></i></a>
                <a title="QQ" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://TomorrowTown.github.io/post/2020-11-29-golang-basics-slice/&sharesource=qzone&title=Go语言基础(三) -- slice&pics=https://TomorrowTown.github.io/images/avatar.png?v=1610129570678&summary="><i class="fa fa-qq"></i></a>
                <a title="新浪微博" target="_blank" href="https://service.weibo.com/share/share.php?url=https://TomorrowTown.github.io/post/2020-11-29-golang-basics-slice/&sharesource=weibo&title=Go语言基础(三) -- slice + " - " + &pic="https://TomorrowTown.github.io/images/avatar.png?v=1610129570678"><i class="fa fa-weibo "></i></a>
                </span>
                
                                            
                                                <script type="application/javascript" src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
<div id="vlaine-comment"></div>
<script type="application/javascript">
    new Valine({
        el: '#vlaine-comment',
        appId: '',
        appKey: '',
        pageSize: 10,
        avatar: 'mp',
        placeholder: '来都来了，不妨评论一下',
        visitor: true,
        highlight: true,
        recordIP: false,
    })
</script>
                                                    
            </div>
            <div id="sidebar">
    <ul>
        
                <!--
                <li class="lite-item">
                    <header class="lite-item-header">
                        <h3 class="lite-item-title"><i class="Card Card-tags">&#x6807;&#x7B7E;</i></h3>
                    </header>
                    <div class="textwidget">
                        
                            <a href="" class="tag-cloud-link " style="font-size: 12px;margin: 5px; padding: 2px;">
                                <i class="fa fa-tags" aria-hidden="true"></i>
                            </a>
                            
                    </div>
                </li>-->
                <li class="lite-item">
                    <header class="lite-item-header">
                        <h3 class="lite-item-title"><i class="Card Card-tags">&#x6807;&#x7B7E;</i></h3>
                    </header>
                    <div class="textwidget">
                        <div id='tags' style="height: auto;width: 360;"></div>
                        <script src="https://TomorrowTown.github.io/media/js/svg3dtagcloud.min.js"></script>
                        <script>
                            $(document).ready(function() {
                                var entries = ([
                                    
                                     {
                                        label: '🏷性能优化',
                                        url: 'https://TomorrowTown.github.io/tag/arYM2gMFx/',
                                        target: '_button'
                                    },
                                    
                                    
                                     {
                                        label: '🏷服务器开发',
                                        url: 'https://TomorrowTown.github.io/tag/n9MXmjtY-/',
                                        target: '_button'
                                    },
                                    
                                    
                                     {
                                        label: '🏷golang',
                                        url: 'https://TomorrowTown.github.io/tag/lXXd7xbfA/',
                                        target: '_button'
                                    },
                                    
                                    
                                     {
                                        label: '🏷游戏开发',
                                        url: 'https://TomorrowTown.github.io/tag/CHJWtbNKg/',
                                        target: '_button'
                                    },
                                    
                                    
                                     {
                                        label: '🏷设计模式',
                                        url: 'https://TomorrowTown.github.io/tag/4AAgEC-1o/',
                                        target: '_button'
                                    }
                                    
                                    
                                ]);
                                var settings = {
                                    entries: entries, //数据
                                    width: 300, //宽度
                                    height: 300, //高度
                                    radius: '50%',
                                    radiusMin: 50,
                                    bgDraw: false, //是否显示背景
                                    bgColor: '#fff', //背景颜色
                                    opacityOver: 1.00,
                                    opacityOut: 0.05,
                                    opacitySpeed: 6,
                                    fov: 360,
                                    speed: 0.3, //旋转的速度
                                    fontFamily: 'Oswald, Arial, sans-serif',
                                    fontSize: '18', //默认字体大小
                                    fontColor: '#666', //默认字体颜色
                                    fontWeight: 'normal', //bold
                                    fontStyle: 'normal', //italic 
                                    fontStretch: 'normal', //wider, narrower, ultra-condensed, extra-condensed, condensed, semi-condensed, semi-expanded, expanded, extra-expanded, ultra-expanded
                                    fontToUpperCase: true,
                                    tooltipFontFamily: 'Oswald, Arial, sans-serif',
                                    tooltipFontSize: '16',
                                    tooltipFontColor: 'red',
                                    tooltipFontWeight: 'normal', //bold
                                    tooltipFontStyle: 'normal', //italic 
                                    tooltipFontStretch: 'normal', //wider, narrower, ultra-condensed, extra-condensed, condensed, semi-condensed, semi-expanded, expanded, extra-expanded, ultra-expanded
                                    tooltipFontToUpperCase: false,
                                    tooltipTextAnchor: 'left',
                                    tooltipDiffX: 0,
                                    tooltipDiffY: 5

                                };

                                //var svg3DTagCloud = new SVG3DTagCloud( document.getElementById( 'holder'  ), settings );
                                $('#tags').svg3DTagCloud(settings);
                            });
                        </script>
                    </div>
                </li>
                
                                
                                    <script>
                                        App.weather();
                                    </script>
                                    <li class="lite-item">
                                        <header class="lite-item-header">
                                            <h3 class="lite-item-title">&#x26C5;&#x5929;&#x6C14;</h3>
                                        </header>
                                        <div class="textwidget">
                                            <div id="tp-weather-widget"></div>
                                        </div>
                                    </li>
                                    
                                        
                                            
                                                
                                                    <li class="lite-item">
                                                        <header class="lite-item-header">
                                                            <h3 class="lite-item-title">
                                                                
                                                            </h3>
                                                        </header>
                                                        <div class="textwidget">
                                                            <div id="textwidget-box" style="width:100%; height:auto;">
                                                                
                                                            </div>
                                                        </div>
                                                    </li>
                                                    
                                                        
                                                            <li class="lite-item">
                                                                <header class="lite-item-header">
                                                                    <h3 class="lite-item-title">&#x1F468;&#x200D;&#x1F4BB;&#x53CB;&#x94FE;</h3>
                                                                </header>
                                                                <div class="textwidget">
                                                                    
                                                                        
                                                                                
                                                                </div>
                                                            </li>
    </ul>
</div>
        </div>

</body>
<footer id="foot">
    <a class="back-to-top" href="#"><i class="Card Card-top" ></i><span class="back-to-top-text">0%</span></a>
    <div class="copyright">
        
            
                    

                        <div style="font-size:12px">
                            
                                        已经建站 <b id='build_time'></b>
                        </div>
                        <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io/CDN/js/time.min.js"></script>
                        <script>
                            buildTime = '2020-11-5'
                            setInterval(show_date_time, 1000, buildTime);
                        </script>
                        
                            &#x7248;&#x6743;&#x6240;&#x6709; &copy;
                            <script>
                                var date = new Date();
                                data2 = new Date(buildTime.replace(/-/g, "/"));
                                nowYear = date.getFullYear().toString()
                                buildYear = data2.getFullYear().toString();
                                if (buildYear == nowYear) {
                                    document.write('<span class="my-face">' + nowYear + '</span>');
                                } else {
                                    document.write(buildYear + '-<span class="my-face">' + nowYear + '</span>');
                                }
                            </script>

                            <a href="https://TomorrowTown.github.io">
                                tomorrow
                            </a>&nbsp;|&nbsp;Powered by
                            <a href="https://coding.net" target="_blank">
                                Coding
                            </a>
    </div>
    <script>
        let back2TopText = document.querySelector('.back-to-top-text')
        window.addEventListener('scroll', function(e) {
            let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
            if (back2TopText) {
                back2TopText.textContent = Math.floor(percent).toString() + '%';
            }
        });
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            document.hidden ? (document.title = "\uD83D\uDE25" + OriginTitile, clearTimeout(titleTime)) : (document.title = "\uD83D\uDE1D" + OriginTitile, titleTime = setTimeout(function() {
                document.title = OriginTitile
            }, 2E3))
        });
        var OriginTitile = document.title;
        
        App.clearLog();
        App.outputlog();
        var logo = '%ctomorrow\'%cBlog';
        console.info(
            logo,
            'color: #ffffff; background: #000000; padding:5px 10px 5px 10px;font-size:40px;border-radius:12px 0 0 12px;', 'color: #000000; background: #FE9A00; padding:5px 10px;font-size:40px;border-radius:0 12px 12px 0;'
        );
        $('img').attr('data-fancybox', 'images');
    </script>
</footer>
    <script>
        renderMathInElement(document.body, {
            delimiters: [{
                left: "$$",
                right: "$$",
                display: true
            }, {
                left: "$",
                right: "$",
                display: false
            }]
        });
    </script>

</html>